!function(){function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}return a}()({1:[function(a,b,c){!function(a,d){"object"==typeof c&&"undefined"!=typeof b?d():"function"==typeof define&&define.amd?define(d):d()}(this,function(){"use strict";function a(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a["default"]:a}function b(a,b){return b={exports:{}},a(b,b.exports),b.exports}function d(a){if(null===a||void 0===a)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}function e(){try{if(!Object.assign)return!1;var a=new String("abc");if(a[5]="de","5"===Object.getOwnPropertyNames(a)[0])return!1;for(var b={},c=0;10>c;c++)b["_"+String.fromCharCode(c)]=c;var d=Object.getOwnPropertyNames(b).map(function(a){return b[a]});if("0123456789"!==d.join(""))return!1;var e={};return"abcdefghijklmnopqrst".split("").forEach(function(a){e[a]=a}),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},e)).join("")?!1:!0}catch(f){return!1}}function f(a){switch(a.arrayFormat){case"index":return function(b,c,d){return null===c?[h(b,a),"[",d,"]"].join(""):[h(b,a),"[",h(d,a),"]=",h(c,a)].join("")};case"bracket":return function(b,c){return null===c?h(b,a):[h(b,a),"[]=",h(c,a)].join("")};default:return function(b,c){return null===c?h(b,a):[h(b,a),"=",h(c,a)].join("")}}}function g(a){var b;switch(a.arrayFormat){case"index":return function(a,c,d){return b=/\[(\d*)\]$/.exec(a),a=a.replace(/\[\d*\]$/,""),b?(void 0===d[a]&&(d[a]={}),void(d[a][b[1]]=c)):void(d[a]=c)};case"bracket":return function(a,c,d){return b=/(\[\])$/.exec(a),a=a.replace(/\[\]$/,""),b?void 0===d[a]?void(d[a]=[c]):void(d[a]=[].concat(d[a],c)):void(d[a]=c)};default:return function(a,b,c){return void 0===c[a]?void(c[a]=b):void(c[a]=[].concat(c[a],b))}}}function h(a,b){return b.encode?b.strict?k(a):encodeURIComponent(a):a}function i(a){return Array.isArray(a)?a.sort():"object"==typeof a?i(Object.keys(a)).sort(function(a,b){return Number(a)-Number(b)}).map(function(b){return a[b]}):a}function j(){try{return window.top.location.origin}catch(a){return document.referrer}}var k=function(a){return encodeURIComponent(a).replace(/[!'()*]/g,function(a){return"%"+a.charCodeAt(0).toString(16).toUpperCase()})},l=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,o=e()?Object.assign:function(a,b){for(var c,e,f=d(a),g=1;g<arguments.length;g++){c=Object(arguments[g]);for(var h in c)m.call(c,h)&&(f[h]=c[h]);if(l){e=l(c);for(var i=0;i<e.length;i++)n.call(c,e[i])&&(f[e[i]]=c[e[i]])}}return f},p=function(a){return a.split("?")[1]||""},q=function(a,b){b=o({arrayFormat:"none"},b);var c=g(b),d=Object.create(null);return"string"!=typeof a?d:(a=a.trim().replace(/^(\?|#|&)/,""))?(a.split("&").forEach(function(a){var b=a.replace(/\+/g," ").split("="),e=b.shift(),f=b.length>0?b.join("="):void 0;f=void 0===f?null:decodeURIComponent(f),c(decodeURIComponent(e),f,d)}),Object.keys(d).sort().reduce(function(a,b){var c=d[b];return Boolean(c)&&"object"==typeof c&&!Array.isArray(c)?a[b]=i(c):a[b]=c,a},Object.create(null))):d},r=function(a,b){var c={encode:!0,strict:!0,arrayFormat:"none"};b=o(c,b);var d=f(b);return a?Object.keys(a).sort().map(function(c){var e=a[c];if(void 0===e)return"";if(null===e)return h(c,b);if(Array.isArray(e)){var f=[];return e.slice().forEach(function(a){void 0!==a&&f.push(d(c,a,f.length))}),f.join("&")}return h(c,b)+"="+h(e,b)}).filter(function(a){return a.length>0}).join("&"):""},s={extract:p,parse:q,stringify:r},t=b(function(a,b){Object.defineProperty(b,"__esModule",{value:!0});var c={setBasePathEncodedItem:function(a,b){window&&window.location&&window.location.hostname&&this.setItem(a,b,window.location.hostname.substring(window.location.hostname.indexOf(".")))},getItem:function(a){return a?decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},setItem:function(a,b,c,d,e,f){if(!a||/^(?:expires|max\-age|path|domain|secure)$/i.test(a))return!1;var g="";if(d)switch(d.constructor){case Number:g=d===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+d;break;case String:g="; expires="+d;break;case Date:g="; expires="+d.toUTCString()}return document.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b)+g+(c?"; domain="+c:"")+(e?"; path="+e:"")+(f?"; secure":""),!0},removeItem:function(a,b,c){return this.hasItem(a)?(document.cookie=encodeURIComponent(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(c?"; domain="+c:"")+(b?"; path="+b:""),!0):!1},hasItem:function(a){return a?new RegExp("(?:^|;\\s*)"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie):!1},keys:function(){for(var a=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),b=a.length,c=0;b>c;c++)a[c]=decodeURIComponent(a[c]);return a}};b["default"]=c});a(t);var u=b(function(a,b){function c(a){return a&&a.__esModule?a:{"default":a}}function d(a){return btoa(JSON.stringify(a))}function e(a){return JSON.parse(atob(a))}function f(){return k(),g()}function g(){var a=n["default"].getItem(o);return a&&"string"==typeof a?e(a):a&&"object"===("undefined"==typeof a?"undefined":l(a))?a:{}}function h(){var a=f();if(a){var b={};return Object.keys(a).map(function(c,d){b["c_"+c]=a[c]}),m["default"].stringify(b)}}function i(a){var b=g();return a&&"object"===("undefined"==typeof a?"undefined":l(a))&&(Object.keys(a).forEach(function(c){var d=a[c];d&&(b[c]=d)}),n["default"].setBasePathEncodedItem(o,d(b))),b}function j(a,b){var c=g();return a&&"string"==typeof a&&b&&c&&"object"===("undefined"==typeof c?"undefined":l(c))&&(c[a]=b,n["default"].setBasePathEncodedItem(o,d(c))),c}function k(){var a={b2wSid:n["default"].getItem("B2W-SID"),b2wUid:n["default"].getItem("B2W-UID"),b2wPid:n["default"].getItem("B2W-PID"),b2wOpn:n["default"].getItem("b2wOpn"),b2wDeviceType:n["default"].getItem("b2wDeviceType"),b2wChannel:n["default"].getItem("b2wChannel"),b2wEPar:n["default"].getItem("b2wEPar"),customerId:n["default"].getItem("customer.id"),salesSolution:n["default"].getItem("salesSolution")};return i(a),a}Object.defineProperty(b,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};b.read=f,b.toQueryString=h,b.writeJson=i,b.write=j,b.seed=k;var m=c(s),n=c(t),o="context"});a(u);var v=u.toQueryString,w=function(){var a=window.top.location.search.replace("?","").split("&").indexOf("log=true"),b=!!window&&!!window.top&&!!window.top.localStorage&&window.top.localStorage.getItem("saika-log");return-1!==a||b&&""!==b},x=function(a){return w()&&!!console&&"function"==typeof console.info&&console.info(a)},y=function(a){var b=a.eventName,c=a.status,d=a.data,e=a.dispatchApi;return x("[SaikaClient] - Dispatch API :: "+e+" - Dispatch Event :: "+b+" :: "+c+" :: ",d)},z=function(a){return/(americanas.com.br)$/.test(a)?"acom":/(submarino.com.br)$/.test(a)?"suba":/(shoptime.com.br)$/.test(a)?"shop":/(soubarato.com.br)$/.test(a)?"soub":null},A=function(a,b,c){var d,e=v();if(d=c?"https://saika-v3.b2w.io/event/"+c+"/"+b+(""!==e?"?"+e:""):"https://saika-v2.b2w.io/event/"+b+(""!==e?"?"+e:""),window.navigator.sendBeacon){var f=navigator.sendBeacon(d,a.body);return void y({eventName:b,status:f?"success":"error",data:a.body,dispatchApi:"sendBeacon"})}if(!navigator.sendBeacon&&window.fetch)return void fetch(d,a,b).then(function(c){return y({eventName:b,status:"success",data:a.body,dispatchApi:"fetch"})})["catch"](function(c){return y({eventName:b,status:"error",data:a.body,dispatchApi:"fetch"})});if(!navigator.sendBeacon&&!window.fetch){var g=new XMLHttpRequest,h=void 0;return g.open("POST",d),g.setRequestHeader("Content-Type","application/json"),h=g.send(a.body),void y({eventName:b,status:h?"success":"error",data:a.body,dispatchApi:"XMLHttpRequest"})}},B=z(j())||"acom",C=function(){var a=Math.floor(1e4*Math.random()+1),b=Math.floor(100*Math.random()+1),c=(new Date).getTime();return(a+b+c).toString()},D=function(a){if(!a)return null;var b=a.source,c=a.eventName,d=a.eventNameSpace,e=a.id,f=a.body,g=a.references;if(!(!d||c&&B))return null;if(!(d||b&&c&&B))return null;var h={method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e&&null!==e&&void 0!==e?e.toString():C(),brand:B,source:b,data:f||{},references:g||{}})};return A(h,c,d)};c.saikaClient=D})},{}],2:[function(a,b,c){"use strict";function d(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function e(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();(function(){function c(){var a=l.getItem("persistentCep"),b=l.getItem("b2wRegion"),c={zipCode:a,b2wRegion:b};return c}var h=a("saika-client").saikaClient,i="925a395";console.log(i);var j=function(a){var b=document.createElement("a");return b.href=a,b.pathname},k=function(a){var b=a.srcElement&&a.srcElement.referrer,c=a.detail.navigation&&a.detail.navigation.url;return b&&-1!=b.indexOf(".com.br/produto/")?"catalog":c&&-1!=c.indexOf(".com.br/produto/")?"catalog":b&&-1!=b.indexOf(".com.br/parceiros/")?"partners":c&&-1!=c.indexOf(".com.br/parceiros/")?"partners":b&&-1!=b.indexOf(".com.br/simple-basket")?"basket":c&&-1!=c.indexOf(".com.br/simple-basket")?"basket":"freight:calculate"===a.type?"payment":"thankyou:load"===a.type?"thankyou":"unknown"},l={getItem:function(a){var b=null;try{b=decodeURIComponent(window.top.document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(a)+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))}catch(c){console.log("Cookie não existe"+a)}return b}},m=function(){function a(){f(this,a),this.data={},this.references={},this.source="FREIGHT-COLLECTOR",this.name=null,this.id=null,this.nameSpace=""}return g(a,[{key:"toSaikaClientData",value:function(){return{body:this.data,id:this.id,references:this.references,source:this.source,eventName:this.name,eventNameSpace:this.nameSpace}}},{key:"isValid",value:function(){return!!this.name}}]),a}(),n=function(a){function b(a){f(this,b);var c=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return c.name="product-page-visualization",c.data=a,c}return e(b,a),b}(m),o=function(a){function b(a){f(this,b);var c=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return c.nameSpace="freight",c.name="visualization",c.data={origin:k(a)},c.references={freightId:c.getFreightId(a)},c}return e(b,a),g(b,[{key:"isValid",value:function(){return!!this.name&&!!this.nameSpace}},{key:"getFreightId",value:function(a){return a.detail&&a.detail.freight&&a.detail.freight.id}}]),b}(m),p=function(a){function b(a){f(this,b);var c=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return c.name="order-place",c.data=a.detail,c}return e(b,a),b}(m),q=function(a){function b(a){f(this,b);var c=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return c.detail=a.detail,c.data={url:c.getUrl(),referer:c.getReferer(),path:c.getPathName(),page:c.getPage()},c.name="page-visualization",c}return e(b,a),g(b,[{key:"getUrl",value:function(){return this.detail.navigation?this.detail.navigation.url:""}},{key:"getReferer",value:function(){return this.detail.navigation?this.detail.navigation.referer:""}},{key:"getPathName",value:function(){return this.getUrl()?j(this.getUrl()):""}},{key:"getPage",value:function(){return this.detail.page?this.detail.page.type:"unknown"}}]),b}(m);document.addEventListener("freight:calculate-info",function(a){var b=new o(a);b.isValid()&&h(b.toSaikaClientData())}),document.addEventListener("freight:calculate",function(a){var b=new o(a);b.isValid()&&h(b.toSaikaClientData())}),document.addEventListener("thankyou:load",function(a){var b=new p(a);b.data.customer.region=c(),h(b.toSaikaClientData())}),document.addEventListener("freight:error",function(a){var b=new o(a);b.isValid()&&h(b.toSaikaClientData())}),document.addEventListener("page:load",function(a){var b=new q(a);b.isValid()&&h(b.toSaikaClientData())}),document.addEventListener("page:load",function(a){if(this.referrer&&-1!=this.referrer.indexOf(".com.br/produto/")&&a&&a.detail&&a.detail.page&&"product"===a.detail.page.type){var b=a.detail,d={buyboxField:b.buyboxField,buyboxToken:b.buyboxToken,device:b.device,page:b.page,product:{id:b.product.id,name:b.product.name,category:b.product.category,groups:b.product.groups,skus:b.product.skus},mainOffer:{id:b.mainOffer.id,immutableId:b.mainOffer.immutableId},navigation:b.navigation,brand:b.project?b.project.brand:null,date:Math.floor(Date.now()),customer:{region:c()}},e=new n(d);h(e.toSaikaClientData())}}),b.exports={SaikaEvent:m,FreightEventV3:o,ProductPageVisualizationEventV2:n,OrderPlaceV2:p,PageVisualizationV2:q}}).call(void 0),window.document.dispatchEvent(new CustomEvent("cage:freight-collector"))},{"saika-client":1}]},{},[2]);