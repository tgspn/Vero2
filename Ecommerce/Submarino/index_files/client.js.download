!function(n){var r={};function o(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=n,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=15)}([function(t,e,n){"use strict";function b(t){return o(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||r()}function v(t,e){return o(t)||function(t,e){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=t[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(t,e)||r()}function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function o(t){if(Array.isArray(t))return t}n.d(e,"d",function(){return a}),n.d(e,"e",function(){return i}),n.d(e,"a",function(){return c}),n.d(e,"c",function(){return u}),n.d(e,"b",function(){return s});var a=function(t,e){return t.reduce(function(t,e){try{return t[e]}catch(t){return}},e)},i=function(o,t,e){return t.reduce(function(t,e,n,r){try{return n===r.length-1?t[e]||o:t[e]}catch(t){return o}},e)},c=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduceRight(function(t,e){return e(t)},t)}},u=function(t){var e=t.url;return e.match("/produto/")?"product":e.match("/payment/")?"payment":e.match("/purchase")?"thankyou":e.match("/simple-basket/")?"basket":""},s=function(t){var e=v(t.split("?"),2),n=e[0],r=void 0===n?"":n,o=e[1],a=void 0===o?"":o,i=v(r.split("://"),2),c=i[0],u=void 0===c?"":c,s=i[1],l=b((void 0===s?"":s).split("/")),d=l[0],f=void 0===d?"":d,p=l.slice(1);return{href:t,protocol:u,hostname:f,query:a,pathname:"/".concat([].concat(p).join("/"))}}},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return u});var r=n(4),o=n(2);function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=t[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var i=function(){var t;if(-1!==location.href.indexOf("log=true")){for(var e=a(new Date(Date().toLocaleString()).toISOString().replace("T"," ").replace("Z","").split(" "),2)[1],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=console).log.apply(t,["[".concat(e,"][saispa-client]: ")].concat(r))}},c=function(t){return JSON.stringify({id:"".concat((new Date).getTime()).concat(Math.ceil(9999*Math.random())),brand:o.b,data:function(o){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},e=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),e.forEach(function(t){var e,n,r;e=o,r=a[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return o}({},t,{userAgent:navigator.userAgent,url:location.href,referrer:document.referrer||location.href})})},u=function(t,e){i("*ERROR*",t,e);try{if(!t||!e)throw new Error("origin is ".concat(t," and message is ").concat(e,", but was required."));var n=c({message:e,origin:t,type:"ERROR"});Object(r.a)({details:{payload:{url:"https://saika-v3.b2w.io/event/saispa/collect",body:n}}})}catch(t){i("*ERROR* can't send error",t.message)}}},function(t){t.exports={b:"suba",c:"https://statics-submarino.b2w.io/saispa/worker.js",a:["page:load","freight:calculate","freight:calculate-info","cart:updated","recommendation:load"]}},,function(t,e,n){"use strict";var a=n(1);e.a=function(t){try{var e=t.details.payload,n=e.url,r=e.body;if("sendBeacon"in navigator)return navigator.sendBeacon(n,r),void Object(a.a)("beacon has sent.");var o=new XMLHttpRequest;o.open("POST",n),o.setRequestHeader("Content-Type","application/json"),o.send(r),Object(a.a)("xhr has sent.")}catch(t){Object(a.b)("dispatchBeacon",t)}}},function(t,l,d){"use strict";(function(t){d.d(l,"b",function(){return u}),d.d(l,"a",function(){return s});var r=d(1),o=d(4),a=d(9),i=d(6),c=d(0),e=d(11),u=function(){return"saispa"in t&&"track"in t.saispa},n=function(n){return function(t){try{var e=Object(c.d)(["data"],t);switch(Object(r.a)("<from: worker>",e),e.type){case"beacon":return Object(o.a)(e);case"pixel":return Object(a.a)(e);case"script":return u()?Object(i.a)(e):n.push(e)}}catch(t){Object(r.b)("track",t.message)}}};function s(){var t=Object(e.a)();return n(t)}}).call(this,d(8))},function(t,e,n){"use strict";var a=n(1),i=n(0);e.a=function(t){try{var e=Object(i.d)(["name"],t),n=Object(i.d)(["details","key"],t),r=Object(i.d)(["details","eventType"],t),o=Object(i.d)(["details","payload"],t);saispa.track({name:e,settings:{key:n}},{type:r,payload:o})}catch(t){Object(a.b)("dispatchTrack",t.message)}}},,function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r=n(1);e.a=function(t){try{var e=t.details.payload.url,n=new XMLHttpRequest;n.open("GET",e,!0),n.send(null),Object(r.a)("xhr has sent.")}catch(t){Object(r.b)("dispatchPixel",t)}}},function(r,o,a){var i,c;!function(t){if(void 0===(c="function"==typeof(i=t)?i.call(o,a,o,r):i)||(r.exports=c),!0,r.exports=t(),!!0){var e=window.Cookies,n=window.Cookies=t();n.noConflict=function(){return window.Cookies=e,n}}}(function(){function v(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}return function t(p){function b(t,e,n){var r;if("undefined"!=typeof document){if(1<arguments.length){if("number"==typeof(n=v({path:"/"},b.defaults,n)).expires){var o=new Date;o.setMilliseconds(o.getMilliseconds()+864e5*n.expires),n.expires=o}n.expires=n.expires?n.expires.toUTCString():"";try{r=JSON.stringify(e),/^[\{\[]/.test(r)&&(e=r)}catch(t){}e=p.write?p.write(e,t):encodeURIComponent(String(e)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var a="";for(var i in n)n[i]&&(a+="; "+i,!0!==n[i]&&(a+="="+n[i]));return document.cookie=t+"="+e+a}t||(r={});for(var c=document.cookie?document.cookie.split("; "):[],u=/(%[0-9A-Z]{2})+/g,s=0;s<c.length;s++){var l=c[s].split("="),d=l.slice(1).join("=");this.json||'"'!==d.charAt(0)||(d=d.slice(1,-1));try{var f=l[0].replace(u,decodeURIComponent);if(d=p.read?p.read(d,f):p(d,f)||d.replace(u,decodeURIComponent),this.json)try{d=JSON.parse(d)}catch(t){}if(t===f){r=d;break}t||(r[f]=d)}catch(t){}}return r}}return(b.set=b).get=function(t){return b.call(b,t)},b.getJSON=function(){return b.apply({json:!0},[].slice.call(arguments))},b.defaults={},b.remove=function(t,e){b(t,"",v(e,{expires:-1}))},b.withConverter=t,b}(function(){})})},function(t,e,n){"use strict";var r=n(1),d=n(0);function f(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var o=n(5),a=n(6);n.d(e,"a",function(){return c});var i=function(e){if(!Object(o.b)())throw new Error("saispa is not defined");Object(r.a)("processing queue"),[].concat(e.getAll()).forEach(function(){var t=e.pop();Object(a.a)(t)})};function c(){var e=[],n=!1,r=function(){return e.pop()},o=function(){return e};return{pop:r,push:function(t){if(e.push(t),!n)return n=!0,function e(n,t){var r=Object(d.e)([],["args"],t),o=Object(d.e)(20,["retry"],t),a=Object(d.e)(200,["minTimeout"],t),i=Object(d.e)(1e3,["maxTimeout"],t),c=Object(d.e)(200,["tick"],t),u=Math.min(a,i);try{n.apply(void 0,f(r))}catch(t){var s=a+c,l=o-1;setTimeout(function(){return e(n,{retry:l,minTimeout:s,args:r,maxTimeout:i,tick:c})},u)}}(function(){return i({getAll:o,pop:r})})},getAll:o}}},,,,function(t,e,n){"use strict";n.r(e);var a=n(1),i=n(2),c=function(e){try{return(window.URL||window.webkitURL).createObjectURL(e)}catch(t){return Object(a.b)("createObjectURL","cannot create object URL from: ".concat(e)),null}},u=function(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"application/javascript",r="importScripts('".concat(t,"')");try{e=new Blob([r],{type:n}),Object(a.a)("Blob created from default constructor")}catch(t){var o=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);o.append(r),e=o.getBlob(n),Object(a.a)("Blob created from blobBuilder")}return c(e)};var r=function(t){var e=t.onMessage,n=t.onError;try{var r=u(i.c),o=new Worker(r);return o.onmessage=e,o.onerror=n,Object(a.a)("worker successfully created"),o}catch(t){Object(a.b)("createWorker",t.message)}},o=n(5),s=n(0),l=n(10),d=n.n(l),f=function(){try{if(!(performance&&"getEntriesByType"in performance))return{};var t=performance.getEntriesByType("navigation"),e=Object(s.d)([0],t);return{tcpTime:e.connectEnd&&e.connectStart?Math.round(e.connectEnd-e.connectStart):void 0,dnsTime:e.domainLookupEnd&&e.domainLookupStart?Math.round(e.domainLookupEnd-e.domainLookupStart):void 0,pageLoadTime:e.loadEventEnd&&e.navigationStart?Math.round(e.loadEventEnd-e.navigationStart):void 0,processingTime:e.loadEventEnd&&e.domLoading?Math.round(e.loadEventEnd-e.domLoading):void 0,domReady:e.domComplete&&e.navigationStart?Math.round(e.domComplete-e.navigationStart):void 0}}catch(t){return{}}},p=function(){try{return{width:innerWidth,height:innerHeight}}catch(t){return Object(a.b)("makeDevice",t.message),{width:null,height:null}}};function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var v=function(t){return Object(a.b)("worker",t.message)},y=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cookies=d.a.get()}return function(t,e,n){e&&b(t.prototype,e),n&&b(t,n)}(t,[{key:"loadWorker",value:function(){this.worker=r({onMessage:this.track,onError:v})}},{key:"loadTracker",value:function(){this.track=Object(o.a)()}},{key:"addEventListeners",value:function(){var e=this;try{i.a.forEach(function(t){document.addEventListener(t,e.handleEvent.bind(e)),Object(a.a)("".concat(t," registered."))})}catch(t){Object(a.b)("addEventListeners",t.message)}}},{key:"sendEvent",value:function(t){try{var e=t.type,n=t.detail,r=t.data,o=void 0===r?{}:r;this.worker.postMessage({type:e,payload:function(o){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},e=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),e.forEach(function(t){var e,n,r;e=o,r=a[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return o}({},o,{cookies:this.cookies,detail:JSON.parse(JSON.stringify(n,null)),timeStamp:Date.now()})}),Object(a.a)(t.type,"has sent to worker.")}catch(t){Object(a.b)("sendEvent",t.message)}}},{key:"isEmbedded",value:function(){try{return window.top!==window.self}catch(t){return null}}},{key:"handleEvent",value:function(t){var e=location.href,n=Object(s.d)(["detail"],t),r=Object(s.d)(["type"],t),o=this.isEmbedded();this.sendEvent({detail:n,type:r,data:{url:e,embedded:o,perf:f(),device:p(),referrer:document.referrer}})}},{key:"shouldStart",value:function(){return!!window.Worker}},{key:"init",value:function(){this.shouldStart()&&(this.loadTracker(),this.loadWorker(),this.addEventListeners())}}]),t}();!function(){try{(new y).init()}catch(t){Object(a.b)("start",t.message)}}()}]);